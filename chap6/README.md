# 6. 브랜칭 전략

***

# Git Flow

깃플로우는 널리 사용되고 있는 브랜칭 모델입니다. 기본 브랜치는 5가지를 사용합니다. `feature` &rarr; `develop` &rarr; `release` &rarr; `hotfix` &rarr; `master` 브랜치가 존재합니다. 병합순서는 앞에서 뒤로 진행됩니다. release, hotfix 브랜치모두 develop 브랜치에 병합 하도록 구성이 되어 있습니다. GUI 툴들에서 기본 내장 git-flow 명령이나 플러그인을 설치하여 작업을 진행할 수 있도록 보편화되어 있는 브랜칭 모델입니다.

<img src="../image/branches.png" width="80%"/>

## feature 브랜치

새로운 기능을 추가하는 작업을 위한 브랜치입니다. feature 브랜치는 원격 저장소에 반영하지 않고 개발자의 로컬 저장소에만 존재합니다. `--no-ff` 옵션을 이용하여 develop 브랜치에 병합 기록을 남깁니다.

## develop 브랜치

여러 개발자가 추가한 기능들을 모으고 검토하는 브랜치입니다. `--no-ff` 옵션을 이용하여 release 브랜치에 병합 기록을 남깁니다.

## release 브랜치

새로운 릴리즈 준비를 위한 브랜치입니다. develop 브랜치로부터 다음번 릴리즈에서 사용할 기능들을 모으고 검토합니다. `--no-ff` 옵션을 이용하여 master 브랜치에 병합 기록을 남깁니다. master 브랜치로 합병한 후 tag 명령을 이용하여 릴리즈 커밋에 대해 버전 정보를 추가합니다. 

## hotfix 브랜치

master 브랜치에서 발생한 버그들을 처리하기 위한 브랜치입니다. 수정이 끝나면 master, develop 브랜치에 반영하고 master 브랜치 커밋에 tag를 추가합니다. 

급하게 고치지 않아도 되는 상황이라면 release, develop 브랜치에 hotfix 브랜치를 병합하여 릴리즈될 때 반영이 될 수 있도록 조치합니다.

## master 브랜치

master 브랜치는 항상 최신의 상태이며 stable 상태로 배포되는 브랜치입니다. 팀 단위로 협업한다면 이 브랜치는 엄격하게 관리되어 몇몇의 책임자만 수행하는 것이 좋습니다. 

만약 이 브랜치의 커밋을 대상으로 추가적인 논의가 필요하다면 master 브랜치 위에 production 브랜치를 두고 production 브랜치를 배포되는 브랜치로 삼는 것도 하나의 방법입니다.